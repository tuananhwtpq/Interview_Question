Trong Android, Migration (di chuyá»ƒn dá»¯ liá»‡u) lÃ  quÃ¡ trÃ¬nh báº¡n cáº­p nháº­t cáº¥u trÃºc (schema) cá»§a Room Database khi cÃ³ sá»± thay Ä‘á»•i, mÃ  khÃ´ng lÃ m máº¥t dá»¯ liá»‡u hiá»‡n cÃ³ cá»§a ngÆ°á»i dÃ¹ng.

Báº¡n cÃ³ thá»ƒ hÃ¬nh dung database cá»§a báº¡n giá»‘ng nhÆ° má»™t ngÃ´i nhÃ  ğŸ , vÃ  cÃ¡c lá»›p @Entity lÃ  báº£n thiáº¿t káº¿ cá»§a ngÃ´i nhÃ  Ä‘Ã³. Migration chÃ­nh lÃ  quÃ¡ trÃ¬nh báº¡n cáº£i táº¡o, sá»­a chá»¯a ngÃ´i nhÃ  (vÃ­ dá»¥: xÃ¢y thÃªm má»™t phÃ²ng, Ä‘áº­p má»™t bá»©c tÆ°á»ng) mÃ  khÃ´ng cáº§n pháº£i Ä‘áº­p Ä‘i xÃ¢y láº¡i toÃ n bá»™.

Táº¡i sao cáº§n Migration?
Khi báº¡n phÃ¡t hÃ nh má»™t phiÃªn báº£n má»›i cá»§a á»©ng dá»¥ng, cÃ³ thá»ƒ báº¡n sáº½ cáº§n thay Ä‘á»•i cáº¥u trÃºc cá»§a database. VÃ­ dá»¥:

ThÃªm má»™t cá»™t má»›i vÃ o má»™t báº£ng (vÃ­ dá»¥: thÃªm cá»™t address vÃ o báº£ng User).

Äá»•i tÃªn má»™t cá»™t.

ThÃªm má»™t báº£ng má»›i.

Náº¿u báº¡n chá»‰ thay Ä‘á»•i code (@Entity) vÃ  tÄƒng phiÃªn báº£n version cá»§a database mÃ  khÃ´ng cung cáº¥p má»™t ká»‹ch báº£n Migration, Room sáº½ khÃ´ng biáº¿t pháº£i lÃ m gÃ¬ vá»›i dá»¯ liá»‡u cÅ©. Khi Ä‘Ã³, Ä‘á»ƒ trÃ¡nh crash, Room sáº½ sá»­ dá»¥ng phÆ°Æ¡ng Ã¡n máº·c Ä‘á»‹nh lÃ  xÃ³a toÃ n bá»™ database cÅ© vÃ  táº¡o láº¡i má»™t cÃ¡i má»›i. Äiá»u nÃ y sáº½ lÃ m máº¥t háº¿t dá»¯ liá»‡u cá»§a ngÆ°á»i dÃ¹ng!

Migration chÃ­nh lÃ  "báº£n hÆ°á»›ng dáº«n cáº£i táº¡o" mÃ  báº¡n Ä‘Æ°a cho Room Ä‘á»ƒ nÃ³ biáº¿t cÃ¡ch nÃ¢ng cáº¥p tá»« phiÃªn báº£n cÅ© lÃªn phiÃªn báº£n má»›i má»™t cÃ¡ch an toÃ n.